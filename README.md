Goのソケットのテスト
==================

# 目的
Go製のAPサーバとnginxをUnixドメインソケットで繋ぎたい。

# 目論見
Go側でゆるーくソケットファイル作ってパーミッション弄って、適当にnginxでつかめばよくね？

# 現実
Goでパーミッションいじらせるのもいいけどめんどいから外に任せようとするとsystemdが絡んできてやばい。

# 事前要件

`go`,`nginx`,`systemd`が手元に揃ってること。

結構危なっかしいことしてるのもあって、docker内に展開して遊べるようにしたいので、後々Dockerfile書くかも。

# とりあえず触る

## 注意
root権限で強力に設定を流し込み、nginxをリロードするので、プロダクションサーバーでうっかり触ると殺されるよ。

怖い人はちゃんと`tools.sh`とか読んで何をするか理解してから触ってね。

## さわりかた
1. `sudo -s`とか`sudo -i`でroot権限のシェルに入る。
2. `./tools.sh up`すると各種セットアップが無断で流し込まれる。
3. `./tools.sh start`するとバックグラウンドでAPサーバを立ち上げる。
4. `./tools.sh curl`するとcurlで動作確認する。
5. `./tools.sh stop`するとバックグラウンドにいたAPサーバを殺す。
6. `./tools.sh down`すると無断で流し込んだ設定を消す。

# 詳細
`tools.sh`を読んでください。どうすればいいかわかります。
